# Hyphenview Api


HyphenView API is a comprehensive backend service that provides various endpoints for managing reports, users, dashboards, and schedulers. This API is designed to work with MySQL databases and supports operations related to data visualization and management. It is built using FastAPI framework that runs multiple APIs using the `uvicorn` server. Each API is run in a separate process using Python's `multiprocessing` module.


## Features

### Folder Structure and Functionality

#### `app/`

This is the main directory containing the core application code.

- **`api/endpoints/v1`**: Contains the API endpoint definitions. Each endpoint corresponds to a specific functionality of the application, such as user management, report scheduling, and dashboard management.

- **`config/`**: Contains configuration files for the application. The main configuration file is **`config.ini`**, which includes database connection details and other settings.It also contains samle_chart.json file which contains chart details.

- **`utilities/`**: Contains utility libraries used across the application. For example, **`loggings.py`** contains custom logging configurations.**`encryption.py`** contains function to encrypt passwords and other sensitive data.**`database_services.py`** contains functions to interact with the database.**`purging_reports.py`** contains functions to delete reports from local_reports folder.**`auth.py`** contains functions to generate token using jwt module.It takes secret keys, algorithm and expiry time as input from config.ini file and generates token.

- **`logs/`**: Stores log files generated by the application. Each API and service has its own log files, which are named according to the service and the date.


- **`middleware/`**: This file is responsible for setting up the FastAPI application and including various routers that define the endpoints for different functionalities such as group management, scheduler management, user management,report management and dashboard management.The purpose of this file is to modularize the application by separating different functionalities into their respective routers. This makes the codebase more organized and easier to maintain. The create_app function is used to create and configure the FastAPI application with all the necessary routes.

- **`service/`**: Contains service classes that encapsulate the business logic of the application. Each service class corresponds to a specific functionality, such as **`DashboardManagement`, `GroupManagement`,`UserManagement`,`ReportScheduler`**, etc.

- **`logs/`**
This directory stores log files generated by the application. Each log file is named according to the service and the date, making it easy to track and debug issues.

- **`main.py`**: The main entry point for the application. This file contains functions to run different APIs and starts them in separate processes.

- **`ScheduleTask.py`**: Handles scheduled tasks such as database connections, report generation, and sending emails.

- **`requirements.txt`**: Contains a list of Python packages required by the application. You can install these packages using the `pip install -r requirements.txt` command.




## Installation
1. Clone the repository to your local machine.
1. Install the required dependencies.
  
      ```
      pip install -r requirements.txt
       
      ```

1. Run the application.

      ```
      python main.py
      
      ```
  
1. Open postman and check api endpoints.

1. First hit validate-login endpoint to validate user login. In the response we will be getting a token. Copy thta token and use it as authorization token for remaining endpoints .

**Note**:- Connection Management endpoints works in 8000 port and Report Management api endpoints work in 3002 port, chatbot_management endpoint works in 9001 port. The remaining enpoints works in 3001 port. Make sure password given in config.ini is in encrypted format. If not use encryption.py file to encrypt the password and update it in config.ini file.


## Endpoints
----------------------------------------

- [Report Management](#markdown-header-Report Management)
- [User Management](#markdown-header-User Management)
- [Dashboard Management](#markdown-header-Dashboard Management)
- [Scheduler Management](#markdown-header-Scheduler Management)
- [Connection Management](#markdown-header-Connection Management)

### Report Management
----------------------------------------------------
- `POST /updateReport`: Update an existing report
- `POST /getReportDataId`: Get report data by ID
- `POST /getReportTemplatealldetail`: Retrieve all details of report templates
- `POST /getAssignedReports`: Get reports assigned to a customer
- `POST /getReportTemplates`: Retrieve a list of report templates
- `POST /getReportAccesses`: Get report access details
- `POST /getReportDetail`:  Retrieve detailed information about a report
- `POST /getGroupwiseReports`: Get reports grouped by specific criteria
- `POST /getReportData`: Retrieve data for a specific report
- `POST /reportPreview`: Preview a report
- `POST /getUsers`: Retrieve a list of users
- `POST /deleteReport`:Delete a report
- `POST /checkReport`: Check the status or validity of a report
- `POST /getReportDataId2`: Get report data by a secondary ID
- `POST /getFeatures`: Retrieve a list of features
- `POST /addFeature`: Add a new feature
- `POST /assignReports`: Assign reports to a user or group
- `POST /assignFeatures`: Assign features to a user or group
- `POST /getaccessaccordingtogroupid`: Get access details according to group ID
- `POST /getTags`: Retrieve a list of tags
- `POST /checkDrillDown`: Check drill-down capabilities of a report
- `POST /saveDrillDownReport`: Save a drill-down report
- `POST /updateDrillDownReport`: Update a drill-down report
- `POST /getUpdateDrillDown`: Get updated drill-down information
- `POST /getDrillDownData`: Get  drill-down data



### User Management

- `POST /deleteUser`: Delete a user
- `POST /saveUser`: Create a new user
- `POST /resetPassword`: Reset user password
- `POST /authorization`: Authorize a user
- `POST /validate-login`: Validate user login
- `POST /getGroup`: Retrieve group information

### Group Management
- `POST /deleteGroup`: Delete a group
- `POST /updateGroupName`: Update group details
- `POST /checkMember`: Checks the membership of a user in a group


### Dashboard Management

- `POST /editFrame`: Edit dashboard frame
- `POST /updateFrame`: Update dashboard frame
- `POST /deleteFrame`: Delete a dashboard frame
- `POST /listDashboard`: List all dashboards
- `POST /listDashboardname`: List dashboard names
- `POST /updateAccess`: Update dashboard access permissions
- `POST /listAccess`: List access permissions
- `POST /saveFrame`: Save dashboard frame
- `POST /getFrame`: Get dashboard frame
- `POST /getMultiFrame`: Edit multiple dashboard frame
- `POST /findFrame`: Find dashboard frame



### Scheduler Management

- `POST /listScheduler`: List all schedulers
- `POST /deleteScheduler`: Delete a scheduler
- `POST /getSchedulerbyId`: Get scheduler details by ID
- `POST /updateScheduler`: Update a scheduler
- `POST /saveScheduler`: Create a new scheduler

### Connection Management

- `POST /save_connection`: Save a new database connection
- `POST /get_schema`:  Retrieve schema information
- `POST /get_schema_metadata`: Retrieve metadata for a specific schema
- `POST /save_report_template`: Save a new report template
- `POST /check_query`: Check the validity of a query
- `POST /add_group`:  Add a new group

### Chatbot Management
- `POST /query`: creates a sql query bases on a sentance.

## Detailed Endpoint Information

### Chatbot Management

#### Query

- **Endpoint:** POST /query
- **Description**: Validate a user

**Request:**
```json
{
      "question": "total number of rows in table feature",
      "schema": "hyphenview_new_release_test",
      "mode": "query",
      "email": "test@erasmith.com",
     "connection_type": "mysql",
      "database_type": "mysql"
    }
```
**Response:**
```json
{
    "query": "SELECT COUNT(*) FROM features;"
}
```
### User Management

#### Validate Login

- **Endpoint:** POST /validate-login
- **Description**: creates a sql query bases on a sentance.

**Request:**
```json
{
    "username": "test@erasmith.com",
    "password": "1234568"
}
```

**Response:**
```json
{
    "validate": true,
    "status_code": 200,
    "message": "username is valid",
    "access_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ0ZXN0QGVyYXNtaXRoLmNvbSIsImV4cCI6MTcyNzQzNTIzMywiaWF0IjoxNzI3NDI4MDMzfQ.-OFsogiPmHWuhA6UdQzHIjHPp-ifWsewoU3sC3C5pOI",
    "exp": "30 min"
}
```

#### Authorization

- **Endpoint:** POST /authorization
- **Description**: Authorize a user

**Request:**
```json
{
    "username": "test@erasmith.com",
    "database_type": "mysql"
}
```

**Response:**
```json
{
    "user_data": {
        "user_email_id": "test@erasmith.com",
        "customer_id": 1,
        "customer_name": "Erasmith",
        "group_id": 1,
        "groupname": "Admin",
        "features": [
            {
                "feature_id": 1,
                "featurename": "User Management",
                "accessmask": "aedv",
                "feature_logo": "/featureIcon/1_usermanagement.png"
            },
            {
                "feature_id": 2,
                "featurename": "Report Management",
                "accessmask": "aedv",
                "feature_logo": "/featureIcon/1_reportmanagement.png"
            },
            {
                "feature_id": 3,
                "featurename": "Report Scheduler",
                "accessmask": "aedv",
                "feature_logo": "/featureIcon/1_reportscheduler.png"
            },
            {
                "feature_id": 15,
                "featurename": "Dashboard Management",
                "accessmask": "aedv",
                "feature_logo": "/featureIcon/1_DashboardManagement.png"
            }
        ]
    },
    "status_code": 200,
    "message": "user is authorized"
}
```

#### Delete User

- **Endpoint**: `POST /deleteUser`
- **Description**: Delete a user

**Request:**
```json
{
  "email": "bot1@gmail.com",
  "database_type": "mysql"
}
```

**Response:**
```json
{
  "status": "success",
  "message": "User deleted successfully"
}
```

#### Save User

- **Endpoint**: `POST /saveUser`
- **Description**: Create a new user

**Request:**
```json
{
  "database_type": "mysql",
  "date": "",
  "email": "test@erasmith.com",
  "group_id": 25,
  "new_user_email": "bot1@gmail.com",
  "password": "Yuvraj1221"
}
```

**Response:**
```json
{
  "status": "success",
  "message": "User created successfully",
  "user_id": 101
}
```

#### Reset Password

- **Endpoint**: `POST /resetPassword`
- **Description**: Reset user password

**Request:**
```json
{
  "database_type": "mysql",
  "email": "test@erasmith.com",
  "new_password": "12345"
}
```

**Response:**
```json
{
  "status": "success",
  "message": "Password reset successfully"
}
```
#### Get Group

- **Endpoint**: `POST /getGroup`
- **Description**: Gets group

**Request:**
```json
{ 
    "email": "test@erasmith.com",  
    "database_type": "mysql" 
} 
```

**Response:**
```json
{
    "status": "success",
    "group_names": [
        {
            "group_id": 1,
            "groupname": "Admin",
            "customer_id": 1
        },
        {
            "group_id": 2,
            "groupname": "Guest",
            "customer_id": 1
        },
        {
            "group_id": 9,
            "groupname": "ReportEndUser",
            "customer_id": 1
        },
        {
            "group_id": 13,
            "groupname": "Employes",
            "customer_id": 1
        },
        {
            "group_id": 25,
            "groupname": "Hyphen",
            "customer_id": 1
        },
        {
            "group_id": 31,
            "groupname": "testgroup",
            "customer_id": 1
        }
    ],
    "assigned_reports": {
        "Admin": [
            {
                "report_id": 232,
                "report_template_name": "Test Area Report",
                "defined_query": "SELECT\n    CASE \n        WHEN tr.priority = '1' THEN 'Critical'\n        WHEN tr.priority = '2' THEN 'High'\n        WHEN tr.priority = '3' THEN 'Medium'\n        WHEN tr.priority = '4' THEN 'Low'\n    END AS Priority,\n    COUNT(*) AS count_of_tickets\nFROM\n    ticket_request tr\nJOIN\n    ticket t ON tr.id = t.id\nWHERE\n    t.start_date >= CURDATE() - INTERVAL 7 DAY\n    AND tr.status NOT IN ('Closed', 'Resolved')\nGROUP BY\n    tr.priority;"
            }
        ],
        "Guest": [
            {
                "report_id": 82,
                "report_template_name": "Total Incident ",
                "defined_query": "SELECT COUNT(*) FROM view_119912458.incident"
            }
        ],
        "ReportEndUser": [],
        "Employes": [],
        "Hyphen": [],
        "testgroup": []
    }
}
```
### Dashboard Management

#### Edit Frame

- **Endpoint**: `POST /editFrame`
- **Description**: Edit dashboard frame

**Request:**
```json
{
  "customer_id": "1",
  "group_id": "2",
  "email": "test@erasmith.com",
  "dashboard_name": "Admin Dashboard"
}
```

**Response:**
```json
{
    "status": "success",
    "frames": [
        {
            "frame": [
                {
                    "h": 8,
                    "i": "2434f95a-6878-4243-81fa-fae4d6f4ed3f",
                    "w": 8,
                    "x": 2,
                    "y": 0,
                    "maxH": 12,
                    "minH": 4,
                    "moved": false,
                    "static": false,
                    "chartType": "testreportchartmain"
                },
                {
                    "h": 8,
                    "i": "f59c47e3-2c2f-40f1-a826-499bce08436f",
                    "w": 10,
                    "x": 0,
                    "y": 8,
                    "maxH": 12,
                    "minH": 4,
                    "moved": false,
                    "static": false,
                    "chartType": "testreportchart",
                    "reportType": "Table"
                }
            ],
            "dashboard_name": "Admin Dashboard",
            "dashboard_access": "null",
            "report_excluded": []
        }
    ]
}
```

#### Update Frame

- **Endpoint**: `POST /updateFrame`
- **Description**: Update dashboard frame

**Request:**
```json
{
    "dashboard_json_frame_data": [{"h": 7, "i": "e1566c00-a2d0-40ca-af4b-376fed073a14", "w": 6, "x": 0, "y": 4, "maxH": 12, "minH": 4, "moved": false, "static": false, "chartType": "Open Incident"}, {"h": 4, "i": "9984cbb2-7c4a-4951-a252-c4fc11804d05", "w": 3, "x": 0, "y": 0, "maxH": 12, "minH": 4, "moved": false, "static": false, "chartType": "Total Incidents"}, {"h": 7, "i": "5929b268-ed04-457e-830a-f7a2cd356193", "w": 4, "x": 0, "y": 11, "maxH": 12, "minH": 4, "moved": false, "static": false, "chartType": "test sample pie chart2"}, {"h": 12, "i": "2434f95a-6878-4243-81fa-fae4d6f4ed3f", "w": 5, "x": 1, "y": 18, "maxH": 12, "minH": 4, "moved": false, "static": false, "chartType": "testreportchartmain"}, {"h": 12, "i": "e1e754f1-3650-445e-8d97-6754064de74f", "w": 5, "x": 0, "y": 30, "maxH": 12, "minH": 4, "moved": false, "static": false, "chartType": "stack chart report2"}, {"h": 10, "i": "f89bed39-7da0-435e-b6ca-2ec331ea57fb", "w": 5, "x": 1, "y": 42, "maxH": 12, "minH": 4, "moved": false, "static": false, "chartType": "readialbar"}, {"h": 11, "i": "c2a0bdff-1deb-4c22-9dfe-feef8d5f9d15", "w": 5, "x": 1, "y": 52, "maxH": 12, "minH": 4, "moved": false, "static": false, "chartType": "3D pie chart"}, {"h": 11, "i": "5530cbb9-573b-4746-a81c-33a9aebeaaa0", "w": 5, "x": 0, "y": 63, "maxH": 12, "minH": 4, "moved": false, "static": false, "chartType": "3D donut chart"}, {"h": 10, "i": "04c267ba-9955-4196-be98-4ea7786d3471", "w": 5, "x": 0, "y": 74, "maxH": 12, "minH": 4, "moved": false, "static": false, "chartType": "master incident by priority"}, {"h": 10, "i": "436c19d4-9a44-4f90-af0b-ea785310419a", "w": 6, "x": 0, "y": 84, "maxH": 12, "minH": 4, "moved": false, "static": false, "chartType": "master Requests Based on Priority "}, {"h": 5, "i": "c8e45a85-160e-4c9b-a0a7-a111f576af63", "w": 3, "x": 0, "y": 94, "maxH": 12, "minH": 4, "moved": false, "static": false, "chartType": "master Request status Prioritywise"}, {"h": 5, "i": "f869a597-4734-482e-83bb-31d2e284a338", "w": 3, "x": 0, "y": 99, "maxH": 12, "minH": 4, "moved": false, "static": false, "chartType": "drill Requests Based on Priority "}, {"h": 12, "i": "600e9dd6-51a5-4dd1-8891-a4d6359bbe64", "w": 6, "x": 0, "y": 104, "maxH": 12, "minH": 4, "moved": false, "static": false, "chartType": "3 D Areas Chart"}, {"h": 10, "i": "a053b908-4b61-4e13-96a1-04d3f2e8177e", "w": 3, "x": 3, "y": 94, "maxH": 12, "minH": 4, "moved": false, "static": false, "chartType": "password rotation duration", "reportType": "Chart"}],
    "customer_id": "1",
    "new_dashboard_report_name":"Admin Dashboard",
    "old_dashboard_report_name":"Admin Dashboard",
    "dashboard_description":""
}
```

**Response:**
```json
{
    "status": "success",
    "message": "JsonFrame Updated Successfully!"
}
```

#### Delete Frame

- **Endpoint**: `POST /deleteFrame`
- **Description**: Delete a dashboard frame

**Request:**
```json
{
  "customer_id": 1,
  "frame_name": "spider-man",
  "groupname": "Admin",
  "group_id": 1,
  "database_type": "mysql"
}
```

**Response:**
```json
{
    "status": "success",
    "message": "Removed frame for customer_id 1"
}
```

#### List Dashboard

- **Endpoint**: `POST /listDashboard`
- **Description**: List all dashboards

**Request:**
```json
{
    "customer_id":"1",
    "group_id" : "2"
}
```

**Response:**
```json
{
    "status": "success",
    "dashboards": [
        {
            "dashboard_report_name": "Dashboard Discription ",
            "customer_id": 1,
            "group_id": 2,
            "access": "rw",
            "dashboard_description": "How are you are you fine",
            "groupname": "Guest"
        },
        {
            "dashboard_report_name": "Admin Dashboard",
            "customer_id": 1,
            "group_id": 2,
            "access": "rw",
            "dashboard_description": "null",
            "groupname": "Guest"
        }
    ]
}
```

#### List Dashboard Names

- **Endpoint**: `POST /listDashboardname`
- **Description**: List dashboard names

**Request:**
```json
{
  "customer_id": "1"
}
```

**Response:**
```json
{
    "status": "success",
    "dashboards": [
        {
            "dashboard_report_name": "Admin Dashboard",
            "customer_id": 1,
            "dashboard_description": "null"
        },
        {
            "dashboard_report_name": "Dashboard Discription ",
            "customer_id": 1,
            "dashboard_description": "How are you are you fine"
        },
        {
            "dashboard_report_name": "rajJaiswal",
            "customer_id": 1,
            "dashboard_description": "study"
        },
        {
            "dashboard_report_name": "dashBoardA",
            "customer_id": 1,
            "dashboard_description": ""
        },
        {
            "dashboard_report_name": "dashBoardB",
            "customer_id": 1,
            "dashboard_description": ""
        },
        {
            "dashboard_report_name": "dashBoardC",
            "customer_id": 1,
            "dashboard_description": ""
        },
        {
            "dashboard_report_name": "netivepolicy",
            "customer_id": 1,
            "dashboard_description": ""
        }
    ]
}
```

#### Update Access

- **Endpoint**: `POST /updateAccess`
- **Description**: Update dashboard access permissions

**Request:**
```json
{
  "customer_id": 1,
  "dashboard_access": {
    "Admin Dashboard": "rw",
    "Dashboard Discription": "",
    "boxDashboardForTest": "",
    "batman": "",
    "wonderwoman": ""
  },
  "database_type": "mysql",
  "group_id": "2",
  "default_dashboard":""
}
```

**Response:**
```json
{
    "status": "success",
    "message": "Access updated successfully."
}
```

#### List Access

- **Endpoint**: `POST /listAccess`
- **Description**: List access permissions

**Request:**
```json
{
  "customer_id": "1",
  "group_id": "2",
  "default_dashboard":""
}
```

**Response:**
```json
{
    "status": "success",
    "frame": [
        {
            "group_id": 2,
            "dashboard_report_name": "Dashboard Discription ",
            "access": "rw",
            "customer_id": 1
        },
        {
            "group_id": 2,
            "dashboard_report_name": "boxDashboardForTest",
            "access": "null",
            "customer_id": 1
        },
        {
            "group_id": 2,
            "dashboard_report_name": "batman",
            "access": "null",
            "customer_id": 1
        },
        {
            "group_id": 2,
            "dashboard_report_name": "wonderwoman",
            "access": "null",
            "customer_id": 1
        }
    ]
}
```
#### Save Frame

- **Endpoint**: `POST /saveFrame`
- **Description**: Saves the frame

**Request:**
```json
{ 

    "dashboard_json_frame_data": [{"h": 7, "i": "e1566c00-a2d0-40ca-af4b-376fed073a14", "w": 6, "x": 0, "y": 4, "maxH": 12, "minH": 4, "moved": false, "static": false, "chartType": "Open Incident"}, {"h": 4, "i": "9984cbb2-7c4a-4951-a252-c4fc11804d05", "w": 3, "x": 0, "y": 0, "maxH": 12, "minH": 4, "moved": false, "static": false, "chartType": "Total Incidents"}, {"h": 7, "i": "5929b268-ed04-457e-830a-f7a2cd356193", "w": 4, "x": 0, "y": 11, "maxH": 12, "minH": 4, "moved": false, "static": false, "chartType": "test sample pie chart2"}, {"h": 12, "i": "2434f95a-6878-4243-81fa-fae4d6f4ed3f", "w": 5, "x": 1, "y": 18, "maxH": 12, "minH": 4, "moved": false, "static": false, "chartType": "testreportchartmain"}, {"h": 12, "i": "e1e754f1-3650-445e-8d97-6754064de74f", "w": 5, "x": 0, "y": 30, "maxH": 12, "minH": 4, "moved": false, "static": false, "chartType": "stack chart report2"}, {"h": 10, "i": "f89bed39-7da0-435e-b6ca-2ec331ea57fb", "w": 5, "x": 1, "y": 42, "maxH": 12, "minH": 4, "moved": false, "static": false, "chartType": "readialbar"}, {"h": 11, "i": "c2a0bdff-1deb-4c22-9dfe-feef8d5f9d15", "w": 5, "x": 1, "y": 52, "maxH": 12, "minH": 4, "moved": false, "static": false, "chartType": "3D pie chart"}, {"h": 11, "i": "5530cbb9-573b-4746-a81c-33a9aebeaaa0", "w": 5, "x": 0, "y": 63, "maxH": 12, "minH": 4, "moved": false, "static": false, "chartType": "3D donut chart"}, {"h": 10, "i": "04c267ba-9955-4196-be98-4ea7786d3471", "w": 5, "x": 0, "y": 74, "maxH": 12, "minH": 4, "moved": false, "static": false, "chartType": "master incident by priority"}, {"h": 10, "i": "436c19d4-9a44-4f90-af0b-ea785310419a", "w": 6, "x": 0, "y": 84, "maxH": 12, "minH": 4, "moved": false, "static": false, "chartType": "master Requests Based on Priority "}, {"h": 5, "i": "c8e45a85-160e-4c9b-a0a7-a111f576af63", "w": 3, "x": 0, "y": 94, "maxH": 12, "minH": 4, "moved": false, "static": false, "chartType": "master Request status Prioritywise"}, {"h": 5, "i": "f869a597-4734-482e-83bb-31d2e284a338", "w": 3, "x": 0, "y": 99, "maxH": 12, "minH": 4, "moved": false, "static": false, "chartType": "drill Requests Based on Priority "}, {"h": 12, "i": "600e9dd6-51a5-4dd1-8891-a4d6359bbe64", "w": 6, "x": 0, "y": 104, "maxH": 12, "minH": 4, "moved": false, "static": false, "chartType": "3 D Areas Chart"}, {"h": 10, "i": "a053b908-4b61-4e13-96a1-04d3f2e8177e", "w": 3, "x": 3, "y": 94, "maxH": 12, "minH": 4, "moved": false, "static": false, "chartType": "password rotation duration", "reportType": "Chart"}], 

    "customer_id": 1, 

    "dashboard_report_name": "Admin Dashboard", 

    "group_id": 2, 

    "dashboard_description": "" 

} 
```

**Response:**
```json
{
    "status": 400,
    "message": "Unable to add the JSON frame due to 1062 (23000): Duplicate entry 'Admin Dashboard' for key 'dashboard_report_frame.dashboard_report_name_UNIQUE'"
}
```
#### getMultiFrame

- **Endpoint**: `POST /getMultiFrame`
- **Description**: Update dashboard access permissions

**Request:**
```json
{ 

    "customer_id": "1", 
    "group_id": "2" 

} 
```

**Response:**
```json
{
    "status": 200,
    "frames": [
        {
            "frame": [
                {
                    "h": 4,
                    "i": "e1566c00-a2d0-40ca-af4b-376fed073a14",
                    "w": 3,
                    "x": 0,
                    "y": 0,
                    "maxH": 12,
                    "minH": 4,
                    "moved": false,
                    "static": false,
                    "chartType": "Open Incident"
                },
                {
                    "h": 4,
                    "i": "9984cbb2-7c4a-4951-a252-c4fc11804d05",
                    "w": 3,
                    "x": 0,
                    "y": 4,
                    "maxH": 12,
                    "minH": 4,
                    "moved": false,
                    "static": false,
                    "chartType": "Total Incidents"
                },
                {
                    "h": 6,
                    "i": "d5103a19-2192-4cdf-a25c-63085c0ca964",
                    "w": 4,
                    "x": 6,
                    "y": 8,
                    "maxH": 12,
                    "minH": 4,
                    "moved": false,
                    "static": false,
                    "chartType": "\"Incident Status By Priority1\""
                },
                {
                    "h": 8,
                    "i": "5929b268-ed04-457e-830a-f7a2cd356193",
                    "w": 3,
                    "x": 3,
                    "y": 0,
                    "maxH": 12,
                    "minH": 4,
                    "moved": false,
                    "static": false,
                    "chartType": "test sample pie chart2"
                },
                {
                    "h": 6,
                    "i": "1fd57ae6-85b0-48f3-8a99-32e1ccf74c20",
                    "w": 6,
                    "x": 0,
                    "y": 8,
                    "maxH": 12,
                    "minH": 4,
                    "moved": false,
                    "static": false,
                    "chartType": "Test Report For DrillDown"
                }
            ],
            "dashboard_name": "Dashboard Discription ",
            "dashboard_access": "rw",
            "report_excluded": [
                {
                    "report_name": "checknewquery",
                    "report_type": "Chart",
                    "chart_type": "line"
                },
                {
                    "report_name": "queryreport",
                    "report_type": "Chart",
                    "chart_type": "column"
                },
                {
                    "report_name": "abc6",
                    "report_type": "Table",
                    "chart_type": ""
                },
                {
                    "report_name": "Test Area Report",
                    "report_type": "Chart",
                    "chart_type": "3Darea"
                },
                {
                    "report_name": "postgrestestdrill",
                    "report_type": "Table",
                    "chart_type": ""
                }
            ]
        },
        {
            "frame": [
                {
                    "h": 8,
                    "i": "2434f95a-6878-4243-81fa-fae4d6f4ed3f",
                    "w": 8,
                    "x": 2,
                    "y": 0,
                    "maxH": 12,
                    "minH": 4,
                    "moved": false,
                    "static": false,
                    "chartType": "testreportchartmain"
                },
                {
                    "h": 4,
                    "i": "2ebabaae-c221-449e-8af1-0a1beb99d6bf",
                    "w": 2,
                    "x": 0,
                    "y": 4,
                    "maxH": 12,
                    "minH": 4,
                    "moved": false,
                    "static": false,
                    "chartType": "reoruertiuerui",
                    "reportType": "Box"
                },
                {
                    "h": 8,
                    "i": "f59c47e3-2c2f-40f1-a826-499bce08436f",
                    "w": 10,
                    "x": 0,
                    "y": 8,
                    "maxH": 12,
                    "minH": 4,
                    "moved": false,
                    "static": false,
                    "chartType": "testreportchart",
                    "reportType": "Table"
                }
            ],
            "dashboard_name": "Admin Dashboard",
            "dashboard_access": "rw",
            "report_excluded": [
                {
                    "report_name": "checknewquery",
                    "report_type": "Chart",
                    "chart_type": "line"
                },
                {
                    "report_name": "queryreport",
                    "report_type": "Chart",
                    "chart_type": "column"
                },
                {
                    "report_name": "abc6",
                    "report_type": "Table",
                    "chart_type": ""
                },               
                {
                    "report_name": "postgrestestdrill",
                    "report_type": "Table",
                    "chart_type": ""
                }
            ]
        }
    ]
}
```

#### Find Frame

- **Endpoint**: `POST /findFrame`
- **Description**: Update dashboard access permissions

**Request:**
```json
{ 
    "dashboard_report_name": "Admin Dashboard", 
    "customer_id": "1" 
} 
```

**Response:**
```json
{
    "status": 201,
    "message": "Frame exist with name Admin Dashboard",
    "verify": 1
}
```

### Scheduler Management

#### List Scheduler

- **Endpoint**: `POST /listScheduler`
- **Description**: List all schedulers

**Request:**
```json
{
  "database_type": "mysql",
  "customer_id": "1"
}
```

**Response:**
```json
{
    "status": "success",
    "Schedulers": [
        {
            "scheduleid": 9,
            "scheduledtime": "2024-04-04T12:47:00",
            "scheduledIntervalDays": 1,
            "scheduledIntervalTime": 1.0,
            "status": "1",
            "emailid": "[\"ashish.kumar@erasmith.com\"]",
            "SchedulerPeriod": "Daily",
            "customer_id": "1",
            "emailcc": "[\"ashish.kumar@erasmith.com\"]",
            "startDate": "2024-04-03T12:30:00",
            "reportTitle": "testingreport",
            "reportIDEB": "51",
            "emailBodyContent": "hi Ashish",
            "reportattachment": "{\"pdf\": [53, 52], \"xlsx\": [53, 52]}"
        },
        {
            "scheduleid": 11,
            "scheduledtime": "2024-05-15T16:30:00",
            "scheduledIntervalDays": 1,
            "scheduledIntervalTime": 1.0,
            "status": "1",
            "emailid": "[\"ashish.kumar@erasmith.com\"]",
            "SchedulerPeriod": "Daily",
            "customer_id": "1",
            "emailcc": "[\"ashish.kumar@erasmith.com\"]",
            "startDate": "2024-04-14T11:15:00",
            "reportTitle": "newrepportschedule",
            "reportIDEB": "68",
            "emailBodyContent": "hi ashish",
            "reportattachment": "{\"pdf\": [78], \"xlsx\": [78]}"
        },
        {
            "scheduleid": 16,
            "scheduledtime": "2024-09-01T00:00:00",
            "scheduledIntervalDays": 7,
            "scheduledIntervalTime": 1.0,
            "status": "1",
            "emailid": "[\"ashish.kumar@erasmith.com\"]",
            "SchedulerPeriod": "Weekly",
            "customer_id": "1",
            "emailcc": "[\"ashish.kumar@erasmith.com\"]",
            "startDate": "2024-09-01T00:00:00",
            "reportTitle": "title",
            "reportIDEB": null,
            "emailBodyContent": "hi ashish",
            "reportattachment": "{\"pdf\": [232, 231, 230, 229, 228, 227, 226], \"xlsx\": [232, 231, 230, 229, 228, 227, 226, 225, 224, 223]}"
        }
    ]
}
```

#### Delete Scheduler

- **Endpoint**: `POST /deleteScheduler`
- **Description**: Delete a scheduler

**Request:**
```json
{
  "scheduleid": "16",
  "customer_id": "1"
}
```

**Response:**
```json
{
    "status": "success",
    "message": "Scheduler Deleted Successfully!"
}
```

#### Get Scheduler by ID

- **Endpoint**: `POST /getSchedulerbyId`
- **Description**: Get scheduler details by ID

**Request:**
```json
{
  "customer_id": "1",
  "scheduleid": "9"
}
```

**Response:**
```json
{
    "status": "success",
    "Schedulers": {
        "scheduleid": 9,
        "scheduledtime": "2024-04-04T12:47:00",
        "scheduledIntervalDays": 1,
        "scheduledIntervalTime": 1.0,
        "status": "1",
        "emailid": "[\"ashish.kumar@erasmith.com\"]",
        "SchedulerPeriod": "Daily",
        "customer_id": "1",
        "emailcc": "[\"ashish.kumar@erasmith.com\"]",
        "startDate": "2024-04-03T12:30:00",
        "reportTitle": "testingreport",
        "reportIDEB": "51",
        "emailBodyContent": "hi Ashish",
        "reportattachment": "{\"pdf\": [53, 52], \"xlsx\": [53, 52]}"
    }
}
```

#### Update Scheduler

- **Endpoint**: `POST /updateScheduler`
- **Description**: updates the scheduler

**Request:**
```json
{
  "customer_id": 1,
  "emailBody": "hi",
  "emailCC": ["yuvraj.jaiswal@erasmith.com"],
  "emailTo": ["yuvraj.jaiswal@erasmith.com"],
  "interval": "Daily",
  "reportTitle": "spider-man",
  "reportattachment": {
    "pdf": [275],
    "xlsx": [274]
  },
  "scheduledTime": "2024-09-13 12:15:00",
  "scheduleid": "17",
  "selectedreport": null,
  "startDate": "2024-09-12 12:15:00"
}
{
  "customer_id": 1,
  "emailBody": "hi",
  "emailCC": ["yuvraj.jaiswal@erasmith.com"],
  "emailTo": ["yuvraj.jaiswal@erasmith.com"],
  "interval": "Daily",
  "reportTitle": "spider-man",
  "reportattachment": {
    "pdf": [275],
    "xlsx": [274]
  },
  "scheduledTime": "2024-09-13 12:15:00",
  "scheduleid": "17",
  "selectedreport": null,
  "startDate": "2024-09-12 12:15:00"
}

```

**Response:**
```json
{
    "status": "success",
    "message": "Scheduler Updated Successfully!"
}
```
#### Save Scheduler 

- **Endpoint**: `POST /saveScheduler`
- **Description**: Save scheduler details 

**Request:**
```json
{
  "customer_id": 1,
  "emailBody": "hi",
  "emailCC": ["yuvraj.jaiswal@erasmith.com"],
  "emailTo": ["yuvraj.jaiswal@erasmith.com"],
  "interval": "Daily",
  "reportTitle": "batman",
  "reportattachment": {
    "pdf": [
      275, 274, 272, 250, 249, 248, 232, 230, 229, 228, 227, 226, 225, 224, 223, 222, 
      221, 220, 219, 218, 217, 216, 215, 214, 213, 212, 211, 210, 209, 207, 206, 205, 
      204, 203, 201, 200, 199, 198, 197, 195, 193, 192, 191, 190, 184, 183, 179, 172, 
      168, 167, 143, 142, 104, 95, 92, 91, 90, 88, 85, 82, 78, 77, 72, 71, 70, 64, 63, 
      53, 52, 50, 49, 48, 35
    ],
    "xlsx": [
      275, 274, 272, 250, 249, 248, 232, 230, 229, 228, 227, 226, 225, 224, 223, 222, 
      221, 220, 219, 218, 217, 216, 215, 214, 213, 212, 211, 210, 209, 207, 206, 205, 
      204, 203, 201, 200, 199, 198, 197, 195, 193, 192, 191, 190, 184, 183, 179, 172, 
      168, 167, 143, 142, 104, 95, 92, 91, 90, 88, 85, 82, 78, 77, 72, 71, 70, 64, 63, 
      53, 52, 50, 49, 48, 35
    ]
  },
  "scheduledTime": "2024-09-13 12:35:00",
  "selectedreport": null,
  "startDate": "2024-09-12 12:35:00"
}

```

**Response:**
```json
{
    "status": "success",
    "message": "Scheduler Added Successfully!"
}

```
### Group Management

#### Check Members

- **Endpoint**: `POST /checkMember`
- **Description**: Checks the member

**Request:**
```json
{
  "groupname": "Admin",
  "group_id": "2",
  "database_type": "mysql",
  "customer_id": "1"
}

```
**Response:**
```json
{
    "status": 200,
    "message": "Members found for group Admin",
    "count": 1
}

```
#### Delete Group

- **Endpoint**: `POST /deleteGroup`
- **Description**: delete the group.

**Request:**
```json
{
  "customer_id": "1",
  "database_type": "mysql",
  "group_id": "28",
  "groupname": "abishek"
}

```
**Response:**
```json
{
    "status": 200,
    "message": "Removed frame for customer_id 1"
}

```
#### Update Group Name

- **Endpoint**: `POST /updateGroupName`
- **Description**: Updates Group Name.

**Request:**
```json
{
  "group_id": "2",
  "customer_id": "1",
  "database_type": "mysql",
  "new_group_name": "admin"
}
```
**Response:**
```json
{
    "status": 200,
    "message": "GroupName Updated Successfully!"
}

```
### Report Management

#### Get Report Templates

- **Endpoint**: `POST /getReportTemplates`
- **Description**: Retrieve a list of report templates.

**Request:**
```json
{ 
    "database_type": "mysql", 
    "email": "test@erasmith.com", 
    "customer_id": "1", 
    "group_id": "1" 
} 
```
**Response:**
```json
[
    {
        "report_id": 232,
        "report_name": "Test Area Report",
        "report_type": "Chart",
        "chart_type": "3Darea",
        "drilldown": "no",
        "access_mask": "pedv"
    }]
```

#### Get Report Templates of all detail

- **Endpoint**: `POST /getReportTemplatealldetail`
- **Description**: Retrieve a list of report templates.

**Request:**
```json
{
     "database_type": "mysql", 
     "email": "test@erasmith.com"
}
```
**Response:**
```json
[
    {
        "report_id": 232,
        "report_name": "Test Area Report",
        "report_type": "Chart",
        "chart_type": "3Darea",
        "drilldown": "no",
        "query": "SELECT\n    CASE \n        WHEN tr.priority = '1' THEN 'Critical'\n        WHEN tr.priority = '2' THEN 'High'\n        WHEN tr.priority = '3' THEN 'Medium'\n        WHEN tr.priority = '4' THEN 'Low'\n    END AS Priority,\n    COUNT(*) AS count_of_tickets\nFROM\n    ticket_request tr\nJOIN\n    ticket t ON tr.id = t.id\nWHERE\n    t.start_date >= CURDATE() - INTERVAL 7 DAY\n    AND tr.status NOT IN ('Closed', 'Resolved')\nGROUP BY\n    tr.priority;",
        "start_date": "",
        "end_date": "",
        "enable_drilldown": "no",
        "auto_update_interval": 2,
        "time_period": "",
        "show_in_dashboard": null
    },
    {
        "report_id": 231,
        "report_name": "bam bahdur",
        "report_type": "Box",
        "chart_type": "",
        "drilldown": "",
        "query": "SELECT hst.value::text FROM items i\nLEFT JOIN history_uint hst ON i.itemid = hst.itemid\nRIGHT JOIN ( SELECT itemid, MAX(clock) AS max_clock FROM history_uint\nwhere itemid = 52608\t\nGROUP BY itemid) AS latest ON hst.itemid = latest.itemid AND hst.clock = latest.max_clock",
        "start_date": "",
        "end_date": "",
        "enable_drilldown": "",
        "auto_update_interval": 2,
        "time_period": "",
        "show_in_dashboard": null
    },]
```

#### Get Report Data

- **Endpoint**: `POST /getReportData`
- **Description**: Retrieve a list of report templates.

**Request:**
```json
{
    "report_title": "Lab Support Tickets",
    "database_type": "mysql",
    "email": "test@erasmith.com"
}
```
**Response:**
```json
{
    "box_value": 2925,
    "background_color": null,
    "chart_react_color": null,
    "font_size_title": null,
    "font_size_value": null,
    "report_type": "box",
    "report_title": "Lab Support Tickets",
    "logo_path": null,
    "drilldown": "yes",
    "auto_update_interval": 2,
    "rule_value": null,
    "rule_colour": null,
    "rule_mapping": null
}

```


#### Get Tags

- **Endpoint**: `POST /getTags`
- **Description**: Retrieve a list of report templates.

**Request:**
```json
{ 
  "customer_id": "1", 
  "connection_type": "mysql", 
  "schema": "hyphendesk", 
  "for_master_report": "yes", 
  "query": "Select * from ticket_incident" 
} 
```
**Response:**
```json
[
    "id",
    "status"
]
```
#### Get Update Drill Down

- **Endpoint**: `POST /getUpdateDrillDown`
- **Description**: Retrieve a list of report templates.

**Request:**
```json
{"master_report":"testreportchartmain",
"customer_id":"1",
"query": "Select * from ticket_incident",
"type":"chart", 
"db_type": "mysql",
"schema_name": "hyphendesk"}
```
**Response:**
```json
{
    "drilldown": "no",
    "message": "Invalid Query for DrillDown : 'GROUP BY' clause having upto 2 columns is required for drilldown.",
    "drilldown_data": {
        "master_report": "testreportchartmain",
        "drilldown_report": "testreportchart",
        "master_column": "[None, None]",
        "drilldown_column": "['interval', 'URL Name']"
    }
}
```
#### Get Report Templates

- **Endpoint**: `POST /getReportTemplates`
- **Description**: Retrieve a list of report templates.

**Request:**
```json
{ 
    "database_type": "mysql", 
    "email": "test@erasmith.com", 
    "customer_id": "1", 
    "group_id": "1" 
} 
```
**Response:**
```json
[
    {
        "report_id": 232,
        "report_name": "Test Area Report",
        "report_type": "Chart",
        "chart_type": "3Darea",
        "drilldown": "no",
        "access_mask": "pedv"
    }]
```
#### Get Report DataId

- **Endpoint**: `POST /getReportDataId`

**Request:**
```json
{
    "report_id": "232",
    "email": "test@erasmith.com",
    "database_type": "mysql"
}
```
**Response:**
```json
{
    "series": [
        {
            "data": [
                "Low"
            ],
            "name": "Priority"
        },
        {
            "data": [
                1
            ],
            "name": "count_of_tickets"
        }
    ],
    "title": "Test Area Report",
    "tooltip": {
        "shared": true
    },
    "xAxis": [
        {
            "categories": [
                "Low"
            ],
            "crosshair": "true"
        }
    ],
    "yAxis": [
        {
            "min": 0,
            "title": {
                "text": "Values"
            }
        },
        {
            "opposite": true,
            "title": {
                "text": "Time"
            }
        }
    ],
    "chart_type": "3darea"
}
```
#### Get Tags

- **Endpoint**: `POST /updateReport`
- **Description**: Retrieve a list of report templates.
- **type**: form-data
keyField:- details
**Request:**
```json

  {
  "auto_update_interval": 4,
  "chart_type": "stackbar",
  "connection_type": "mysql",
  "database_type": "mysql",
  "defined_query": "SELECT s.SystemType, CONCAT(c.Change_RequirePasswordEveryXDays, ' days') AS Change_RequirePasswordEveryXDays, COUNT(p.Platform_ID) AS distinct_count FROM (SELECT DISTINCT SystemType FROM platforms) AS s CROSS JOIN (SELECT DISTINCT Change_RequirePasswordEveryXDays FROM platforms) AS c LEFT JOIN platforms p ON s.SystemType = p.SystemType AND c.Change_RequirePasswordEveryXDays = p.Change_RequirePasswordEveryXDays GROUP BY s.SystemType, c.Change_RequirePasswordEveryXDays ORDER BY s.SystemType, CAST(SUBSTRING_INDEX(c.Change_RequirePasswordEveryXDays, ' ', 1) AS UNSIGNED) ASC;",
  "display_order": 1,
  "email": "test@erasmith.com",
  "enable_drilldown": "",
  "end_date": "",
  "report_id": "249",
  "report_template_name": "password rotation duration",
  "report_type": "Chart",
  "schema": "cyberark",
  "start_date": "",
  "time_period": ""
} 
```
**Response:**
```json
{
    "Database updated successfully!"
}
```

#### Add Feature

- **Endpoint**: `POST /addFeature`
- **Input-type**: form-data

**Request:**
```
{ 
    file 
    feature_name
    customer_id 
    database_type 
} 
```
**Response:**
```json
"Feature 'annotation=NoneType required=True json_schema_extra={}' added for customer ID annotation=NoneType required=True json_schema_extra={}."
```
#### Get Report Data

- **Endpoint**: `POST /getReportData`
- **Description**: Retrieve a list of report templates.
**Request:**
```json

{
    "report_title": "Lab Support Tickets",
    "database_type": "mysql",
    "email": "test@erasmith.com"
} 

```
**Response:**
```json
{
    "box_value": 2925,
    "background_color": null,
    "chart_react_color": null,
    "font_size_title": null,
    "font_size_value": null,
    "report_type": "box",
    "report_title": "Lab Support Tickets",
    "logo_path": null,
    "drilldown": "yes",
    "auto_update_interval": 2,
    "rule_value": null,
    "rule_colour": null,
    "rule_mapping": null
}
```

#### Get Report Detail

- **Endpoint**: `POST /getReportDetail`
- **Description**: Retrieve a list of report details.

**Request:**
```json
{ 
    "database_type": "mysql",  
    "report_id": "213" 
} 
```
**Response:**
```json
{
    "data": {
        "report_id": 213,
        "db_details_id": 21,
        "report_template_name": "Total Tickets (Last 7 Days)",
        "report_type": "Box",
        "chart_type": "",
        "defined_query": "select count(id) from ticket where start_date >= CURDATE() - INTERVAL 7 DAY",
        "start_date": "",
        "end_date": "",
        "time_period": "",
        "show_in_dashboard": null,
        "enable_drilldown": "yes",
        "auto_update_interval": 2,
        "background_colour": null,
        "chart_react_colour": "#bd0f0f",
        "font_size_title": null,
        "font_size_value": null,
        "upload_logo": "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",
        "rule_value": null,
        "rule_colour": null,
        "rule_mapping": null,
        "rdbms_name": "mysql",
        "schema_name": "Hyphendesk"
    }
}
```
#### Get Assigned Reports

- **Endpoint**: `POST /getAssignedReports`
- **Description**: Retrieve a list of report templates.

**Request:**
```json
{
     "database_type": "mysql", 
     "email": "test@erasmith.com"
}
```
**Response:**
```json
[
    {
        "group_id": 1,
        "report_id": 35,
        "report_template_name": "parameterreport",
        "access_mask": "pedv"
    }]

```
#### getDrillDownData

- **Endpoint**: `POST /getDrillDownData`
- **Description**: Gets drill down data.

**Request:**
```json
{
"customer_id": "1",
"master_report": "testreportchartmain",
"filter_value": "2024-09-17T20:00:00+00:00",
"selectedSeriesName": "Erasmith URL Monitoring"
}
```
**Response:**
```json
{
    "column_names": [
        "interval",
        "URL Name",
        "Download Speed"
    ],
    "data": [],
    "report_type": "table"
}

```
#### Get access according to groupid

- **Endpoint**: `POST /getaccessaccordingtogroupid`
- **Description**: Retrieve a list of access according to groupid.

**Request:**
```json
{ 
"group_id": "1", 
"database_type": "mysql" 
}
```
**Response:**
```json
[
    {
        "featurename": "User Management",
        "accessmask": "aedv"
    },
    {
        "featurename": "Report Scheduler",
        "accessmask": "aedv"
    }
]
```
#### Save DrillDown Report

- **Endpoint**: `POST /saveDrillDownReport`
- **Description**: Save DrillDown Report.

**Request:**
```json
{ 
    "Master_Column": ["SystemType", "Change_RequirePasswordEveryXDays"], 
    "DrillDown_Column": ["Priority"], 
    "customer_id": "1", 
    "drilldown_report": "master Request status Prioritywise", 
    "master_report": "qwertghgfwj" 
} 
```
**Response:**
```json
{
    "Saved successfully"
}
```
#### reportPreview

- **Endpoint**: `POST /reportPreview`
- **Description**: .

**Request:**
```json
{"report_name" :"Ebinjomon",
        "report_type" :"chart",
        "chart_type" :"line",
        "query" :"select * from user_account",
        "email" :"test@erasmith.com",
        "database_type" :"mysql",
        "connection_type" :"mysql",
        "schema" :"hyphenview_new_release_test"}
```
**Response:**
```json
{
    "series": [
        {
            "data": [
                "abhishekh@gmail.com",
                "anuj@erasmith.com",
                "newtest@gmail.com",
                "piyush@gmail.com",
                "test@erasmith.com",
                "test@erasmithgroup.com"
            ],
            "name": "user_email_id"
        },
        {
            "data": [
                "$2b$12$OchCao5XxVOYmd/1GV19FOnHzGQO3VRD1djnjkHO5uuyXhul0QJG.",
                "$2b$12$NNFh2A4bjvMES6ip3ve00OqGVOkRY4eBrvTTCfwPr7Z9yYSeKTMvW",
                "$2b$12$PtcABfI94/DyWy2muiXDZOb7sAc3Dyga9QoQ.HPuqY7BmtXG18wPW",
                "$2b$12$OchCao5XxVOYmd/1GV19FOnHzGQO3VRD1djnjkHO5uuyXhul0QJG.",
                "$2b$12$FgXdlWmhyTanor1f3H/ROu.3XPUDznsIbvVc9a2blcOqCHXd50NWq",
                "$2b$12$VYUorB7HogdjEVW6vp2TKORpd.QBw.SorGQ5TTOcNfprKP7Q4OB.u"
            ],
            "name": "password"
        },
        {
            "data": [
                1,
                1,
                1,
                1,
                1,
                1
            ],
            "name": "customer_id"
        },
        {
            "data": [
                2,
                13,
                13,
                25,
                1,
                25
            ],
            "name": "group_id"
        },
        {
            "data": [
                "Active",
                "Active",
                "Active",
                "Active",
                "Active",
                "Active"
            ],
            "name": "user_status"
        },
        {
            "data": [
                "N",
                "N",
                "N",
                "N",
                "N",
                "N"
            ],
            "name": "user_logged_ind"
        },
        {
            "data": [
                "2024-02-27T13:34:06",
                "2024-04-18T10:46:13",
                "2024-04-23T14:44:11",
                "2024-02-21T22:50:12",
                "2024-01-31T13:18:14",
                "2024-08-28T23:58:58"
            ],
            "name": "user_creation_date"
        }
    ],
    "title": "Ebinjomon",
    "tooltip": {
        "shared": true
    },
    "xAxis": [
        {
            "categories": [
                "abhishekh@gmail.com",
                "anuj@erasmith.com",
                "newtest@gmail.com",
                "piyush@gmail.com",
                "test@erasmith.com",
                "test@erasmithgroup.com"
            ],
            "crosshair": "true"
        }
    ],
    "yAxis": [
        {
            "min": 0,
            "title": {
                "text": "Values"
            }
        },
        {
            "opposite": true,
            "title": {
                "text": "Time"
            }
        }
    ]
}
```
#### Get Feature

- **Endpoint**: `POST /getFeatures`
- **Input-type**: Json

**Request:**
```json
{"database_type" :"mysql",
 "email" :"test@erasmith.com"} 
```
**Response:**
```json
[
    {
        "feature_id": 1,
        "featurename": "User Management"
    },
    {
        "feature_id": 2,
        "featurename": "Report Management"
    }
]
```
#### Check Report

- **Endpoint**: `POST /checkReport`
- **Description**: Check Drill Down.

**Request:**
```json
{
    "report_id" :"35",
    "database_type" : "mysql",
    "customer_id" : "1"
}
```
**Response:**
```json
{
    "message": "This report is attached to the following reports.",
    "Reports": []
}
```



#### Get Report Accesses

- **Endpoint**: `POST /getReportAccesses`
- **Description**: Retrieve a list of report accesses.

**Request:**
```json
{
  "group_id": "1",
  "customer_id": "1",
  "database_type": "mysql"
}

```
**Response:**
```json
[
    {
        "user_email_id": "test@erasmith.com",
        "group_id": 1,
        "customer_id": 1,
        "report_id": 35,
        "access_mask": "pedv",
        "report_template_name": "parameterreport",
        "report_type": "Table ",
        "chart_type": "",
        "enable_drilldown": ""
    }
]
```
#### getGroupwiseReports

- **Endpoint**: `POST /getGroupwiseReports`
- **Description**: Check Drill Down.

**Request:**
```json
{
    "group_id" :"1",
    "database_type" :"mysql"
}
```
**Response:**
```json
[
    {
        "user_email_id": "test@erasmith.com",
        "group_id": 1,
        "customer_id": 1,
        "report_id": 35,
        "access_mask": "pedv",
        "report_template_name": "parameterreport",
        "report_type": "Table ",
        "chart_type": "",
        "enable_drilldown": ""
    }]
```
#### Assign Reports
- **Endpoint**: `POST /assignReports`
- **Description**: Assign Reports.

**Request:**
```json
{
  "access_masks": [
    "pedv", "pedv", "null", "null", "null", "null", "null", "null", "null", "null", "null", "null", "null", "null", "null", "null", "null", "null", "null", "null", "null", "null", "null", "null", "null", "pedv", "null", "null", "null", "null", "null", "null", "null", "null", "null", "null", "null", "null", "null", "null", "null", "null", "null", "null", "null", "null", "null", "null", "null", "null", "null", "null", "null", "null", "null", "null", "ev", "null", "null", "null", "null", "null", "null", "null", "ev", "pedv", "null"
  ],
  "database_type": "mysql",
  "email": "test@erasmith.com",
  "group_id": 2,
  "report_ids": [
    232, 231, 230, 229, 228, 227, 226, 225, 224, 223, 222, 221, 220, 219, 218, 217, 216, 215, 213, 212, 211, 210, 209, 207, 206, 205, 204, 203, 201, 200, 199, 198, 197, 195, 193, 192, 191, 190, 184, 183, 179, 172, 168, 167, 143, 142, 104, 95, 92, 91, 90, 88, 85, 82, 78, 77, 72, 71, 70, 64, 63, 53, 52, 50, 49, 48, 35
  ]
}

```

**Response:**
```json
"Report Assigned Successfully!"
```

#### Check Drill Down

- **Endpoint**: `POST /checkDrillDown`
- **Description**: Check Drill Down.

**Request:**
```json
{ 

  "query": "SELECT s.SystemType, CONCAT(c.Change_RequirePasswordEveryXDays, ' days') AS Change_RequirePasswordEveryXDays, COUNT(p.Platform_ID) AS distinct_count FROM (SELECT DISTINCT SystemType FROM platforms) AS s CROSS JOIN (SELECT DISTINCT Change_RequirePasswordEveryXDays FROM platforms) AS c LEFT JOIN platforms p ON s.SystemType = p.SystemType AND c.Change_RequirePasswordEveryXDays = p.Change_RequirePasswordEveryXDays GROUP BY s.SystemType, c.Change_RequirePasswordEveryXDays ORDER BY s.SystemType, CAST(SUBSTRING_INDEX(c.Change_RequirePasswordEveryXDays, ' ', 1) AS UNSIGNED) ASC;", 

  "type": "Chart" 

} 
```
**Response:**
```json
{
    "drilldown": "yes",
    "column_mapping": 0
}
```

#### Update DrillDown Report

- **Endpoint**: `POST /updateDrillDownReport`
- **Description**: Update DrillDown Report.

**Request:**
```json
{ 
  "DrillDown_Column": ["Priority"], 
  "Master_Column": ["SystemType", "Change_RequirePasswordEveryXDays"], 
  "customer_id": 1, 
  "drilldown_report": "master Request status Prioritywise", 
  "master_report": "shubhamchartrepo" 
} 
```
**Response:**
```json
{
    "Drildown Saved successfully"
}
```

### Connection Management

#### Get Schema Metadata

- **Endpoint**: `POST /get_schema_metadata`
- **Description**: Retrieve a list of report templates.

**Request:**
```json
{
    "schema_name": "Hyphendesk",
    "database_type": "mysql",
    "email": "test@erasmith.com"
}
```
**Response:**
```json
[{
        "TABLE_CATALOG": "def",
        "TABLE_SCHEMA": "Hyphendesk",
        "TABLE_NAME": "workorder",
        "COLUMN_NAME": "log",
        "ORDINAL_POSITION": 10,
        "COLUMN_DEFAULT": null,
        "IS_NULLABLE": "YES",
        "DATA_TYPE": "longtext",
        "CHARACTER_MAXIMUM_LENGTH": 4294967295,
        "CHARACTER_OCTET_LENGTH": 4294967295,
        "NUMERIC_PRECISION": null,
        "NUMERIC_SCALE": null,
        "DATETIME_PRECISION": null,
        "CHARACTER_SET_NAME": "utf8mb4",
        "COLLATION_NAME": "utf8mb4_unicode_ci",
        "COLUMN_TYPE": "longtext",
        "COLUMN_KEY": "",
        "EXTRA": "",
        "PRIVILEGES": "select,insert,update,references",
        "COLUMN_COMMENT": "",
        "GENERATION_EXPRESSION": "",
        "SRS_ID": null
    },
    {
        "TABLE_CATALOG": "def",
        "TABLE_SCHEMA": "Hyphendesk",
        "TABLE_NAME": "workorder",
        "COLUMN_NAME": "log_index",
        "ORDINAL_POSITION": 11,
        "COLUMN_DEFAULT": null,
        "IS_NULLABLE": "YES",
        "DATA_TYPE": "blob",
        "CHARACTER_MAXIMUM_LENGTH": 65535,
        "CHARACTER_OCTET_LENGTH": 65535,
        "NUMERIC_PRECISION": null,
        "NUMERIC_SCALE": null,
        "DATETIME_PRECISION": null,
        "CHARACTER_SET_NAME": null,
        "COLLATION_NAME": null,
        "COLUMN_TYPE": "blob",
        "COLUMN_KEY": "",
        "EXTRA": "",
        "PRIVILEGES": "select,insert,update,references",
        "COLUMN_COMMENT": "",
        "GENERATION_EXPRESSION": "",
        "SRS_ID": null
    }
]

```

#### save connection

- **Endpoint**: `POST /saveConnection`
- **Description**:save connection.

**Request:**
```json
{
  "active_user": "test@erasmith.com",
  "connection_type": "mysql",
  "database_type": "mysql",
  "host": "localhost",
  "password": "password",
  "port": "3306",
  "schema": "hyphen_schema",
  "username": "root",
  "save": "yes"
}
```
**Response:**
```json
{
    "status_code": 400,
    "detail": "Database details already exist."
}
```
#### save Report template

- **Endpoint**: `POST /save_report_template`
- **Type**:form-type

**Request:**
KeyName:-report_template_name
```json
{
  "auto_update_interval": 1,
  "chart_type": "stackbar",
  "connection_type": "mysql",
  "database_type": "mysql",
  "defined_query": "select * from user_account",
  "display_order": 1,
  "email": "test@erasmith.com",
  "enable_drilldown": "",
  "end_date": "",
  "report_template_name": "surrounded",
  "report_type": "Chart",
  "schema": "hyphen_schema",
  "start_date": "",
  "time_period": ""
}

```
**Response:**
```json
{
    "status_code": "success",
    "detail": "Report template saved successfully."
}
```
#### Get Schema

- **Endpoint**: `POST /get_schema`
- **Description**: Check Drill Down.

**Request:**
```json
{
    "email" :"test@erasmith.com",
    "database_type" : "mysql",
    "connection_type" : "mysql"
}
```
**Response:**
```json
[
    "hyphenview_new_release_test",
    "smaxsampledata",
    "Hyphendesk",
    "samplesmaxdata_mapdata",
    "cybersecurity"
]
```
#### Check query

- **Endpoint**: `POST /check_query`
- **Description**: Retrieve list column ,counts it.

**Request:**
```json
{ 
 
  "query": "Select * from ticket_incident" , 
  "schema": "Hyphendesk", 
  "email": "test@erasmith.com", 
  "connection_type": "mysql", 
  "database_type": "mysql"  
}
```
**Response:**
```json
{
    "status_code": 200,
    "detail": "Valid Query",
    "column_count": 52,
    "column_type": {
        "1": 3,
        "2": 254,
        "3": 254,
        "4": 254,
        "5": 254,
        "6": 254,
        "7": 3,
        "8": 3,
        "9": 254,
        "10": 253,
        "11": 12,
        "12": 12,
        "13": 12,
        "14": 3,
        "15": 12,
        "16": 12,
        "17": 12,
        "18": 3,
        "19": 12,
        "20": 12,
        "21": 12,
        "22": 12,
        "23": 1,
        "24": 1,
        "25": 3,
        "26": 12,
        "27": 1,
        "28": 1,
        "29": 3,
        "30": 3,
        "31": 12,
        "32": 12,
        "33": 12,
        "34": 12,
        "35": 1,
        "36": 1,
        "37": 3,
        "38": 12,
        "39": 1,
        "40": 1,
        "41": 3,
        "42": 3,
        "43": 254,
        "44": 252,
        "45": 252,
        "46": 3,
        "47": 3,
        "48": 3,
        "49": 252,
        "50": 252,
        "51": 254,
        "52": 252
    }
}
```
#### Add group
- **Endpoint**: `POST /add_group`
- **Description**: Add group.

**Request:**
```json
{
    "database_type" :"mysql",
    "group_name" : "Xyz",
    "customer_id" : 1}
```
**Response:**
```json
{
    "status": "failed",
    "message": "Groupname 'Xyz' already exists for customer ID 1."
}
```